<html>
  <head>
    <title>Reference-Free Despeckling</title>
    <meta content="">
    <link rel="stylesheet" href="styles.css" />
    <script src="scripts/gallery.js"></script>
    <script src="https://d3js.org/d3-dsv.v1.min.js"></script>
  </head>
  <body>
    <div class="content-wrapper">

      <div class="header">
        <a href="overview.html">Overview</a>
        <a href="gallery.html" class="selected">Gallery</a>
        <a href="contact.html">Contact</a>
        <a href="https://github.com/tim-dav/cnn-sar-despeckle" target="_blank" rel="noopener noreferrer nofollow">Code</a>
      </div>

      <h1>Gallery</h1>
      <p>
        Below are image crops from the validation set, <i>i.e.</i> scenes that the CNN had not been exposed to
        during training. To see details of the image for each filter type, hover the mouse over the image
        (on mobile devices tap on a point in the image). Additional images despeckled using the proposed 
        CNN can be found on the
        <a href="http://www.mounts-project.com/home" 
          target="_blank" 
          rel="noopener noreferrer nofollow">MOUNTS volcano monitoring website</a>.
      </p>
      <div class="control-wrapper centered">
        <label for="select_img">Select image</label>
        <select id="select_img"></select>
        &nbsp;
        <span>Select polarity</span>
        <input type="radio" id="radio_vv" name="polarity" value="vv" checked>
        <label for="radio_vv">VV</label>
        <input type="radio" id="radio_vh" name="polarity" value="vh">
        <label for="radio_vh">VH</label>
      </div>
      <noscript><strong>This content requires JavaScript</strong></noscript>
      <div id="img-wrapper" class="centered"></div>
      <div id="canvas-wrapper" class="centered"></div>
    </div>
    <script type="text/javascript">
      let images = null;
      let imgsInfo = null
      let contexts = null;
      let image_x = null;
      fetch('images/manifest.csv')
        .then((response) =>  {
          if (response.status !== 200) throw "Image manifest not found";
          return response.text();
        }).then((text) => {
          data = d3.csvParse(text);
          imgsInfo = data;
          return data;
        }).then((data) => {
          setup(data);
        }).then(() => {
          images = methods.map((m) => document.getElementById(`img_${m}`));
          contexts = methods.map((m) => document.getElementById(`canvas_${m}`).getContext('2d'));
          image_x = document.getElementById("img_x");
          addMouseMoveListener(image_x, images, contexts);
        });
    </script>
  </body>
</html>
